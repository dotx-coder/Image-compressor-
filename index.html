<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Compress JPEG, PNG, and WebP images online for free. Reduce image file size without losing quality. No sign-up required.">
  <meta name="keywords" content="image compressor, compress images, reduce image size, JPEG compressor, PNG compressor, WebP compressor, Free image compressor">
  <meta name="author" content="Rishaank Gupta">
  <meta property="og:title" content="Online Image Compressor">
  <meta property="og:description" content="Compress JPEG, PNG, and WebP images online for free. Reduce image file size without losing quality.">
  <meta property="og:image" content="https://yourwebsite.com/thumbnail.jpg">
  <meta property="og:url" content="https://yourwebsite.com">
  <title>Online Image Compressor</title>
  <style>
    /* Reset */
    * { margin: 0; padding: 0; box-sizing: border-box; }

    /* General Styles */
    body {
      font-family: 'Inter', sans-serif;
      background: #f8f9fa;
      color: #333;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      background: #fff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      max-width: 800px;
      width: 100%;
      text-align: center;
      margin-bottom: 40px;
    }

    h1 {
      font-size: 2.5rem;
      color: #2c3e50;
      margin-bottom: 20px;
    }

    .upload-section {
      border: 2px dashed #3498db;
      border-radius: 12px;
      padding: 30px;
      margin-bottom: 20px;
      position: relative;
      transition: border-color 0.3s ease;
    }

    .upload-section.dragover {
      border-color: #2ecc71;
    }

    .upload-label {
      background: #3498db;
      color: #fff;
      padding: 12px 24px;
      border-radius: 25px;
      cursor: pointer;
      display: inline-block;
      font-size: 1rem;
      transition: all 0.3s ease;
    }

    .upload-label:hover {
      background: #2980b9;
      transform: scale(1.05);
    }

    #file-input {
      display: none;
    }

    #file-name {
      margin-top: 10px;
      font-size: 14px;
      color: #666;
    }

    .options {
      margin-bottom: 20px;
    }

    .options label {
      font-size: 1rem;
      color: #2c3e50;
    }

    #quality {
      width: 60%;
      cursor: pointer;
    }

    #quality-value {
      font-size: 1rem;
      color: #3498db;
    }

    .preview-section {
      display: flex;
      justify-content: space-between;
      gap: 20px;
      margin-bottom: 20px;
    }

    .before, .after {
      flex: 1;
      background: #f8f9fa;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }

    .before h3, .after h3 {
      margin-bottom: 10px;
      font-size: 1.2rem;
      color: #2c3e50;
    }

    img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      transition: transform 0.3s ease;
    }

    img:hover {
      transform: scale(1.02);
    }

    #download-btn {
      background: #2ecc71;
      color: #fff;
      padding: 12px 24px;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      font-size: 1rem;
      transition: all 0.3s ease;
    }

    #download-btn:disabled {
      background: #bdc3c7;
      cursor: not-allowed;
    }

    #download-btn:hover:not(:disabled) {
      background: #27ae60;
      transform: scale(1.05);
    }

    .loading {
      display: none;
      margin-top: 20px;
    }

    .loader {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #3498db;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      animation: spin 1s linear infinite;
      margin: 0 auto;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .error {
      color: #e74c3c;
      margin-top: 10px;
      font-size: 14px;
    }

    /* How to Use Section */
    .how-to-use {
      background: #fff;
      padding: 60px 20px;
      margin-top: 40px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      opacity: 0;
      transform: translateY(50px);
      transition: opacity 0.8s ease, transform 0.8s ease;
      max-width: 800px;
      width: 100%;
    }

    .how-to-use.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .how-to-use h2 {
      font-size: 2rem;
      color: #2c3e50;
      text-align: center;
      margin-bottom: 40px;
    }

    .steps {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 30px;
    }

    .step {
      flex: 1 1 250px;
      max-width: 300px;
      text-align: center;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 12px;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .step:hover {
      transform: translateY(-10px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    }

    .step-icon {
      font-size: 2rem;
      color: #3498db;
      margin-bottom: 15px;
    }

    .step h3 {
      font-size: 1.2rem;
      color: #2c3e50;
      margin-bottom: 10px;
    }

    .step p {
      font-size: 1rem;
      color: #666;
    }

    .gif-container {
      margin-top: 40px;
      text-align: center;
    }

    .gif-container img {
      max-width: 100%;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }

    @media (max-width: 768px) {
      .steps {
        flex-direction: column;
        align-items: center;
      }

      .step {
        max-width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Online Image Compressor</h1>
    <div class="upload-section" id="upload-section">
      <input type="file" id="file-input" accept="image/*">
      <label for="file-input" class="upload-label">Choose Image</label>
      <span id="file-name"></span>
      <div class="error" id="error"></div>
    </div>
    <div class="options">
      <label for="quality">Compression Level:</label>
      <input type="range" id="quality" min="0" max="100" value="50">
      <span id="quality-value">50%</span>
    </div>
    <div class="preview-section">
      <div class="before">
        <h3>Original</h3>
        <img id="original-img" alt="Original Image">
        <p id="original-size"></p>
      </div>
      <div class="after">
        <h3>Compressed</h3>
        <img id="compressed-img" alt="Compressed Image">
        <p id="compressed-size"></p>
      </div>
    </div>
    <div class="loading" id="loading">
      <div class="loader"></div>
      <p>Compressing...</p>
    </div>
    <button id="download-btn" disabled>Download Compressed Image</button>
  </div>

  <!-- How to Use Section -->
  <div class="how-to-use" id="how-to-use">
    <h2>How to Use</h2>
    <div class="steps">
      <div class="step">
        <div class="step-icon">üìÅ</div>
        <h3>Step 1: Upload Your Image</h3>
        <p>Click "Choose Image" or drag and drop your file into the upload area.</p>
      </div>
      <div class="step">
        <div class="step-icon">‚öôÔ∏è</div>
        <h3>Step 2: Adjust Compression</h3>
        <p>Use the slider to set your desired compression level.</p>
      </div>
      <div class="step">
        <div class="step-icon">üì•</div>
        <h3>Step 3: Download</h3>
        <p>Click "Download Compressed Image" to save your optimized file.</p>
      </div>
    </div>
    <div class="gif-container">
      <img src="https://via.placeholder.com/800x400" alt="Compression Process GIF">
    </div>
  </div>

  <script>
    // Scroll-triggered animation for the "How to Use" section
    const howToUseSection = document.getElementById('how-to-use');

    window.addEventListener('scroll', () => {
      const sectionPosition = howToUseSection.getBoundingClientRect().top;
      const screenPosition = window.innerHeight / 1.3;

      if (sectionPosition < screenPosition) {
        howToUseSection.classList.add('visible');
      }
    });

    // Replace the placeholder GIF with an actual GIF of the compression process
    const gifContainer = document.querySelector('.gif-container img');
    gifContainer.src = 'path/to/your/compression-process.gif';

    // Previous JavaScript for image compression remains the same
    const fileInput = document.getElementById('file-input');
    const uploadSection = document.getElementById('upload-section');
    const fileNameDisplay = document.getElementById('file-name');
    const qualityInput = document.getElementById('quality');
    const qualityValue = document.getElementById('quality-value');
    const originalImg = document.getElementById('original-img');
    const compressedImg = document.getElementById('compressed-img');
    const originalSize = document.getElementById('original-size');
    const compressedSize = document.getElementById('compressed-size');
    const downloadBtn = document.getElementById('download-btn');
    const loading = document.getElementById('loading');
    const error = document.getElementById('error');

    let originalFile = null;

    qualityInput.addEventListener('input', () => {
      qualityValue.textContent = `${qualityInput.value}%`;
      if (originalFile) compressImage(originalFile);
    });

    fileInput.addEventListener('change', (e) => {
      const file = e.target.files[0];
      handleFile(file);
    });

    uploadSection.addEventListener('dragover', (e) => {
      e.preventDefault();
      uploadSection.classList.add('dragover');
    });

    uploadSection.addEventListener('dragleave', () => {
      uploadSection.classList.remove('dragover');
    });

    uploadSection.addEventListener('drop', (e) => {
      e.preventDefault();
      uploadSection.classList.remove('dragover');
      const file = e.dataTransfer.files[0];
      handleFile(file);
    });

    function handleFile(file) {
      if (!file) return;

      if (!file.type.startsWith('image/')) {
        error.textContent = 'Please upload a valid image file (JPEG, PNG, WebP).';
        return;
      }

      if (file.size > 500 * 1024 * 1024) {
        error.textContent = 'File size exceeds 500MB. Please upload a smaller image.';
        return;
      }

      error.textContent = '';
      originalFile = file;
      fileNameDisplay.textContent = file.name;
      loadImage(file);
    }

    function loadImage(file) {
      const reader = new FileReader();
      reader.onload = (e) => {
        originalImg.src = e.target.result;
        originalSize.textContent = `Size: ${formatBytes(file.size)}`;
        compressImage(file);
      };
      reader.readAsDataURL(file);
    }

    function compressImage(file) {
      loading.style.display = 'block';
      const img = new Image();
      img.src = URL.createObjectURL(file);
      img.onload = () => {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');

        canvas.width = img.width;
        canvas.height = img.height;

        ctx.drawImage(img, 0, 0);

        const quality = qualityInput.value / 100;

        canvas.toBlob(
          (blob) => {
            const compressedUrl = URL.createObjectURL(blob);
            compressedImg.src = compressedUrl;
            compressedSize.textContent = `Size: ${formatBytes(blob.size)}`;
            downloadBtn.disabled = false;
            downloadBtn.onclick = () => downloadImage(compressedUrl, file.name);
            loading.style.display = 'none';
          },
          file.type.includes('png') ? 'image/png' : file.type.includes('webp') ? 'image/webp' : 'image/jpeg',
          quality
        );
      };
    }

    function downloadImage(url, filename) {
      const link = document.createElement('a');
      link.href = url;
      link.download = `compressed_${filename}`;
      link.click();
    }

    function formatBytes(bytes, decimals = 2) {
      if (bytes === 0) return '0 Bytes';
      const k = 1024;
      const sizes = ['Bytes', 'KB', 'MB', 'GB'];
      const i = Math.floor(Math.log(bytes) / Math.log(k));
      return `${parseFloat((bytes / Math.pow(k, i)).toFixed(decimals))} ${sizes[i]}`;
    }
  </script>
</body>
</html>